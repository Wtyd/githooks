#!/usr/bin/env php
<?php

require getcwd() . '/vendor/autoload.php';

use GitHooks\Commands\Console\RegisterCommands;
use GitHooks\Constants;
use Illuminate\Container\Container;
use Illuminate\Events\Dispatcher;
use Illuminate\Console\Application;

$container = new Container();
$events = new Dispatcher($container);

$artisan = new Application($container, $events, Constants::VERSION);
$artisan->setName('GitHooks');

$registerCommands = new RegisterCommands();

foreach ($registerCommands->__invoke() as $command) {
    $artisan->resolve($command);
}

$artisan->run();
