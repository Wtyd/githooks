#!/usr/bin/env php
<?php

require getcwd() . '/vendor/autoload.php';

use GitHooks\Commands\Tools\{
    CheckSecurityCommand,
    CodeSnifferCommand,
    CopyPasteDetectorCommand,
    MessDetectorCommand,
    ParallelLintCommand,
    StanCommand,
    ExecuteAllToolsCommand
};

use GitHooks\Commands\{
    CheckConfigurationFileCommand,
    CleanHookCommand,
    CreateConfigurationFileCommand,
    HookCommand
};

use Illuminate\Container\Container;
use Illuminate\Events\Dispatcher;
use Illuminate\Console\Application;

$container = new Container();
$events = new Dispatcher($container);

$artisan = new Application($container, $events, 'Version 1.0');
$artisan->setName('GitHooks');

// Bind Tools Commands
$artisan->resolve(ParallelLintCommand::class);
$artisan->resolve(CodeSnifferCommand::class);
$artisan->resolve(CopyPasteDetectorCommand::class);
$artisan->resolve(MessDetectorCommand::class);
$artisan->resolve(StanCommand::class);
$artisan->resolve(CheckSecurityCommand::class);

// Other Commands
$artisan->resolve(CreateConfigurationFileCommand::class);
$artisan->resolve(CheckConfigurationFileCommand::class);
$artisan->resolve(ExecuteAllToolsCommand::class);
$artisan->resolve(HookCommand::class);
$artisan->resolve(CleanHookCommand::class);

$artisan->run();
